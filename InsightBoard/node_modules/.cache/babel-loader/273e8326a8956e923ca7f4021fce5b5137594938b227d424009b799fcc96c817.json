{"ast":null,"code":"var _jsxFileName = \"E:\\\\2025 Folders\\\\Personal Project 2025\\\\Marketing-APP\\\\InsightBoard\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { analyzeEvents } from '../aiAnalysis';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\nexport default function Dashboard({\n  website,\n  updateEvents\n}) {\n  _s();\n  const [events, setEvents] = useState(website.events || []);\n  const [insights, setInsights] = useState([]);\n  useEffect(() => {\n    setEvents(website.events || []);\n  }, [website]);\n  useEffect(() => {\n    const newInsights = analyzeEvents(events);\n    setInsights(newInsights);\n  }, [events]);\n\n  // Summarize events for charts\n  const pageViews = {};\n  const clicks = {};\n  let totalTime = 0;\n  events.forEach(event => {\n    if (event.type === 'pageview') {\n      pageViews[event.page] = (pageViews[event.page] || 0) + 1;\n      totalTime += event.timeSpent || 0;\n    } else if (event.type === 'click') {\n      clicks[event.element] = (clicks[event.element] || 0) + 1;\n    }\n  });\n  const pageViewData = {\n    labels: Object.keys(pageViews),\n    datasets: [{\n      label: 'Page Views',\n      data: Object.values(pageViews),\n      backgroundColor: 'rgba(26, 35, 126, 0.7)'\n    }]\n  };\n  const clickData = {\n    labels: Object.keys(clicks),\n    datasets: [{\n      label: 'Clicks',\n      data: Object.values(clicks),\n      backgroundColor: 'rgba(0, 188, 212, 0.7)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Dashboard for \", website.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Key Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Page Views: \", events.filter(e => e.type === 'pageview').length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Clicks: \", events.filter(e => e.type === 'click').length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Time Spent: \", totalTime, \" seconds\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '20px',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: pageViewData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: clickData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Insights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), insights.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No insights available yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: insights.map((insight, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: insight\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"eWU2PWKQuKvuiIxmp4njWatQZqw=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Pie","analyzeEvents","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","jsxDEV","_jsxDEV","register","Dashboard","website","updateEvents","_s","events","setEvents","insights","setInsights","newInsights","pageViews","clicks","totalTime","forEach","event","type","page","timeSpent","element","pageViewData","labels","Object","keys","datasets","label","data","values","backgroundColor","clickData","children","url","fileName","_jsxFileName","lineNumber","columnNumber","filter","e","length","style","display","gap","marginTop","flex","map","insight","idx","_c","$RefreshReg$"],"sources":["E:/2025 Folders/Personal Project 2025/Marketing-APP/InsightBoard/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport { analyzeEvents } from '../aiAnalysis';\r\n\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nexport default function Dashboard({ website, updateEvents }) {\r\n  const [events, setEvents] = useState(website.events || []);\r\n  const [insights, setInsights] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setEvents(website.events || []);\r\n  }, [website]);\r\n\r\n  useEffect(() => {\r\n    const newInsights = analyzeEvents(events);\r\n    setInsights(newInsights);\r\n  }, [events]);\r\n\r\n  // Summarize events for charts\r\n  const pageViews = {};\r\n  const clicks = {};\r\n  let totalTime = 0;\r\n\r\n  events.forEach((event) => {\r\n    if (event.type === 'pageview') {\r\n      pageViews[event.page] = (pageViews[event.page] || 0) + 1;\r\n      totalTime += event.timeSpent || 0;\r\n    } else if (event.type === 'click') {\r\n      clicks[event.element] = (clicks[event.element] || 0) + 1;\r\n    }\r\n  });\r\n\r\n  const pageViewData = {\r\n    labels: Object.keys(pageViews),\r\n    datasets: [\r\n      {\r\n        label: 'Page Views',\r\n        data: Object.values(pageViews),\r\n        backgroundColor: 'rgba(26, 35, 126, 0.7)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  const clickData = {\r\n    labels: Object.keys(clicks),\r\n    datasets: [\r\n      {\r\n        label: 'Clicks',\r\n        data: Object.values(clicks),\r\n        backgroundColor: 'rgba(0, 188, 212, 0.7)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Dashboard for {website.url}</h2>\r\n      <div>\r\n        <h3>Key Metrics</h3>\r\n        <p>Total Page Views: {events.filter(e => e.type === 'pageview').length}</p>\r\n        <p>Total Clicks: {events.filter(e => e.type === 'click').length}</p>\r\n        <p>Total Time Spent: {totalTime} seconds</p>\r\n      </div>\r\n      <div style={{ display: 'flex', gap: '20px', marginTop: '20px' }}>\r\n        <div style={{ flex: 1 }}>\r\n          <Bar data={pageViewData} />\r\n        </div>\r\n        <div style={{ flex: 1 }}>\r\n          <Bar data={clickData} />\r\n        </div>\r\n      </div>\r\n      <div style={{ marginTop: '20px' }}>\r\n        <h3>Insights</h3>\r\n        {insights.length === 0 ? (\r\n          <p>No insights available yet.</p>\r\n        ) : (\r\n          <ul>\r\n            {insights.map((insight, idx) => (\r\n              <li key={idx}>{insight}</li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}